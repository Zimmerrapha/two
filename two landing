<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Two – Das private Zuhause für eure Erinnerungen</title>
  <style>
    :root { color-scheme: dark; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:#0a0a0a; color:#e5e5e5; }
    .container { max-width: 1120px; margin: 0 auto; padding: 0 16px; }
    header { position: sticky; top:0; backdrop-filter: blur(8px); background: rgba(10,10,10,0.7); border-bottom: 1px solid #262626; }
    .row { display:flex; align-items:center; justify-content:space-between; padding:12px 0; }
    .btn { display:inline-flex; align-items:center; gap:8px; background:#fff; color:#0a0a0a; padding:8px 12px; border-radius:12px; text-decoration:none; font-weight:600; }
    h1 { font-size: clamp(28px, 4vw, 44px); line-height:1.15; margin:0; }
    p.lead { color:#cfcfcf; font-size:18px; }
    .grid { display:grid; grid-template-columns: 1fr; gap:24px; }
    @media (min-width: 900px){ .grid { grid-template-columns: 1fr 1fr; } }
    .card { border:1px solid #262626; background:#111; border-radius:16px; padding:16px; }
    .input { width:100%; padding:14px 14px 14px 40px; border-radius:12px; border:1px solid #3f3f46; background:#0f0f0f; color:#e5e5e5; }
    .icon { position:absolute; left:12px; top:50%; transform:translateY(-50%); opacity:.6 }
    .submit { display:inline-flex; align-items:center; gap:8px; padding:12px 16px; border-radius:12px; background:#d946ef; color:#fff; border:none; font-weight:600; cursor:pointer; }
    .muted { color:#a3a3a3; font-size:12px; }
    .error { color:#fda4af; font-size:14px; margin-top:6px; }
    .success { border:1px solid rgba(16,185,129,.4); background:rgba(16,185,129,.15); padding:12px; border-radius:12px; }
    footer { border-top:1px solid #262626; color:#a3a3a3; font-size:14px; }
    .pin { display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px; }
    .pin > div { aspect-ratio:3/4; border:1px solid #262626; border-radius:16px; overflow:hidden; background:#0f0f0f; }
    .pin > div > div:first-child { height:66%; background: linear-gradient(135deg, rgba(217,70,239,.35), rgba(56,189,248,.2)); }
    .feature { border:1px solid #262626; background:#111; border-radius:16px; padding:16px; }
  </style>
</head>
<body>
  <header>
    <div class="container row">
      <div style="display:flex;align-items:center;gap:10px">
        <svg width="28" height="28" viewBox="0 0 28 28"><circle cx="10" cy="14" r="6" fill="#e879f9"/><circle cx="18" cy="14" r="6" fill="#38bdf8" style="mix-blend-mode:screen"/></svg>
        <strong>Two</strong>
      </div>
      <a href="#beta" class="btn">★ Beta beitreten</a>
    </div>
  </header>

  <main>
    <section>
      <div class="container" style="padding:64px 16px">
        <div class="grid">
          <div>
            <h1>Das private Zuhause<br/>für eure Erinnerungen</h1>
            <p class="lead" style="margin-top:12px">Haltet Fotos, kleine Momente und Voice‑Notizen fest. Erhaltet monatliche Highlights und am Jahresende ein automatisch gelayoutetes <strong>Yearbook</strong> – druckbereit mit einem Tap.</p>

            <div id="beta" style="margin-top:24px">
              <div id="success" class="success" style="display:none">Danke! Du stehst auf der Warteliste. Wir melden uns, sobald die Closed Beta startet.</div>
              <form id="waitlist" class="card" novalidate>
                <div style="position:relative; margin-bottom:10px">
                  <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v16H4z" fill="none"/><path d="M22 6l-10 7L2 6"/></svg>
                  <input class="input" type="email" name="email" placeholder="E‑Mail für die Beta" required />
                </div>

                <label style="display:flex;gap:8px;align-items:flex-start;font-size:14px;color:#d4d4d8;margin-bottom:10px">
                  <input type="checkbox" name="consent" required />
                  <span>Ich möchte E‑Mails zum Beta‑Start erhalten und stimme der Verarbeitung meiner Daten zu. Mehr Infos in der <a href="#datenschutz" style="color:#fff;text-decoration:underline">Datenschutzerklärung</a>.</span>
                </label>

                <!-- Honeypot gegen Bots -->
                <input type="text" name="company" style="display:none" tabindex="-1" autocomplete="off" />

                <!-- UTM & Meta (gefüllt via JS) -->
                <input type="hidden" name="utm_source" />
                <input type="hidden" name="utm_medium" />
                <input type="hidden" name="utm_campaign" />
                <input type="hidden" name="utm_content" />
                <input type="hidden" name="utm_term" />
                <input type="hidden" name="page" />
                <input type="hidden" name="userAgent" />

                <div style="display:flex;align-items:center;gap:12px;margin-top:8px">
                  <button class="submit" type="submit">☆ Warteliste</button>
                  <span class="muted">Keine Werbung. Nur Beta‑Updates.</span>
                </div>
                <div id="error" class="error"></div>
              </form>
            </div>
          </div>

          <div>
            <div class="pin">
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
              <div><div></div><div style="padding:10px"><div style="height:8px;width:80px;background:#3f3f46;border-radius:4px"></div><div style="height:8px;width:60px;background:#27272a;border-radius:4px;margin-top:6px"></div></div></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="features" style="border-top:1px solid #262626">
      <div class="container" style="padding:56px 16px; display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr))">
        <div class="feature"><strong>Privat & sicher</strong><br><span class="muted">Kein Social‑Graph, keine Ads. E2EE optional, EU‑Datenresidenz.</span></div>
        <div class="feature"><strong>Momente festhalten</strong><br><span class="muted">Fotos, kurze Videos, Text & Voice – mit Stimmung, Tags & Ort.</span></div>
        <div class="feature"><strong>Monats‑Highlights</strong><br><span class="muted">Automatische Kuratierung – die schönsten 8–12 Momente pro Monat.</span></div>
        <div class="feature"><strong>Yearbook, automatisch</strong><br><span class="muted">Schöne Layouts als PDF – mit einem Tap drucken lassen.</span></div>
        <div class="feature"><strong>PIN‑Wand</strong><br><span class="muted">Visuelle Pinnwand eurer besten Shots – Masonry‑Grid & Reactions.</span></div>
        <div class="feature"><strong>Kontrolle beim Druck</strong><br><span class="muted">Standortdaten redacted by default. Du wählst, was ins Buch kommt.</span></div>
      </div>
    </section>

    <section id="datenschutz" style="border-top:1px solid #262626">
      <div class="container" style="padding:56px 16px">
        <h2 style="margin:0 0 8px 0">Datenschutz (Kurz)</h2>
        <p class="muted" style="font-size:14px">Wir speichern deine E‑Mail ausschließlich zur Benachrichtigung über den Beta‑Start. Keine Werbung, kein Verkauf von Daten. Details folgen in der vollständigen Datenschutzerklärung. Du kannst dich jederzeit mit einem Klick wieder abmelden.</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="container" style="padding:24px 16px; display:flex; align-items:center; justify-content:space-between">
      <div style="display:flex;align-items:center;gap:8px">
        <svg width="22" height="22" viewBox="0 0 28 28"><circle cx="10" cy="14" r="6" fill="#e879f9"/><circle cx="18" cy="14" r="6" fill="#38bdf8" style="mix-blend-mode:screen"/></svg>
        <span>© <span id="year"></span> Two</span>
      </div>
      <div style="display:flex;gap:16px">
        <a href="#" style="color:#e5e5e5">Impressum</a>
        <a href="#datenschutz" style="color:#e5e5e5">Datenschutz</a>
      </div>
    </div>
  </footer>

<script>
  // Year in footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Fill UTM & meta fields
  (function(){
    var params = new URLSearchParams(location.search);
    var f = document.getElementById('waitlist');
    if(!f) return;
    f.elements['utm_source'].value = params.get('utm_source') || '';
    f.elements['utm_medium'].value = params.get('utm_medium') || '';
    f.elements['utm_campaign'].value = params.get('utm_campaign') || '';
    f.elements['utm_content'].value = params.get('utm_content') || '';
    f.elements['utm_term'].value = params.get('utm_term') || '';
    f.elements['page'].value = location.href;
    f.elements['userAgent'].value = navigator.userAgent;
  })();

  // AJAX submit to Formspree
  document.getElementById('waitlist').addEventListener('submit', async function(e){
    e.preventDefault();
    var form = e.currentTarget;
    var error = document.getElementById('error');
    var success = document.getElementById('success');
    error.textContent = '';

    // Basic validation
    var email = form.elements['email'].value || '';
    if(!(email.includes('@') && email.includes('.'))){
      error.textContent = 'Bitte gib eine gültige E‑Mail an.';
      return;
    }
    if(!form.elements['consent'].checked){
      error.textContent = 'Bitte bestätige die Einwilligung zum Erhalt der Beta‑E‑Mails.';
      return;
    }

    var payload = {
      email: email,
      consent: true,
      page: form.elements['page'].value,
      userAgent: form.elements['userAgent'].value,
      utm_source: form.elements['utm_source'].value,
      utm_medium: form.elements['utm_medium'].value,
      utm_campaign: form.elements['utm_campaign'].value,
      utm_content: form.elements['utm_content'].value,
      utm_term: form.elements['utm_term'].value,
      _subject: 'Two – Neue Wartelisten‑Anmeldung'
    };

    try{
      var resp = await fetch('https://formspree.io/f/xwpqjeyo', {
        method:'POST',
        headers:{ 'Accept':'application/json', 'Content-Type':'application/json' },
        body: JSON.stringify(payload)
      });
      var data = {};
      try{ data = await resp.json(); } catch(_){}
      if(resp.ok){
        success.style.display = 'block';
        form.reset();
      } else {
        error.textContent = (data && (data.error || (data.errors && data.errors[0] && data.errors[0].message))) || 'Ein Fehler ist aufgetreten. Bitte versuch es später erneut.';
      }
    } catch(err){
      error.textContent = 'Verbindungsfehler. Bitte prüfe deine Internetverbindung und versuch es erneut.';
    }
  });
</script>
</body>
</html>
